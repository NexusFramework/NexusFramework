!function(s){var p=window.document,y=p.createElement("a"),m=location.href.match(/^\w+:/)[0],o=function(e,r){for(var t,n=new RegExp("(^|\\s+)"+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"(\\s+|$)","g"),o=0;o<e.length;o++)(t=e[o]).className=t.className.replace(n,function(e,r){return/^\s.+\s$/.test(e)?" ":""})},a=function(e,r){for(var t,n=new RegExp("(^|\\s+)"+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"(\\s+|$)","g"),o=0;o<e.length;o++)t=e[o],n.test(t.className)||(t.className=(t.className?t.className+" ":"")+r)},i=!1,l="loader-error-visible",c=p.getElementsByClassName("loader-error-container"),u=p.getElementsByClassName("loader-error-message"),r=function(e){var r=""+(e.stack||e);if(console.warn(r),i)return c;if(i=!0,u.length){for(var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","/":"&#x2F;","=":"&#x3D;","    ":"&nbsp;&nbsp;","\n":"<br />"},n=r.replace(/([&<>"'`=\/\n]|    )/g,function(e){return t[e]}),o=0;o<u.length;o++)u[o].innerHTML=n;if(s.ga)try{s.ga("send","exception",{exDescription:r,exFatal:!0})}catch(e){console.warn(e)}c.length&&a(c,l)}return c};try{var f,d,n=p.getElementsByClassName("loader-progress-bar"),g=p.getElementsByClassName("loader-progress-container");if(n.length){var h=0,v=0;d=function(e){var r;++v>=h?(e?e():g&&o(g,"loader-progress-visible"),document.body.style.overflow="auto",r=1):r=1-Math.pow(5,1-v/h)/5,r=100*r+"%";for(var t=0;t<n.length;t++)n[t].style&&(n[t].style.width=r)},f=function(e){void 0===e&&(e=1),h=e,v=0}}else if(g.length){var t=0,b=0;d=function(e){++b>=t&&(e?e():o(g,"loader-progress-visible"))},f=function(e){void 0===e&&(e=1),t=e,b=0}}else{var w=0,E=0;d=function(e){++E>=w&&e&&e()},f=function(e){void 0===e&&(e=1),w=e,E=0}}g&&a(g,"loader-progress-visible"),document.body.style.overflow="hidden";var x,$,N,C=function(r){try{return btoa(r)}catch(e){for(var t=r.split(""),n=0,o=t.length;n<o;n++){var s=t[n];try{btoa(s)}catch(e){for(var a=s.charCodeAt(0).toString(16);a.length<4;)a="0"+a;t[n]="\\u"+a}}return btoa(t.join(""))}},j={},q={},R={load:function(e,r){if(x){var t=e[0],n=t.length;if(n!==x.length)return location.reload(!0);for(var o=0;o<n;o++)if(t[o]!==x[o])return location.reload(!0)}else x=e[0];var s=e[1];s.length?(f(s.length),s.forEach(function(e){R.loadResource(e.type,e.source,function(e){e?(console.log(e),R.showError(e)):d(r)},e.dependencies,e.inline||e.integrity,e.name)})):r?r():(f(),d(r))},requestedResources:function(){return Object.keys(q)},resourceSource:function(e){return q[e]},loadResource:function(t,n,r,e,o,s){void 0===e&&(e=[]);try{var a,i,l;if("script"==t)l="text/javascript",a=function(e){var r=p.createElement("script");r.type="text/javascript",o&&!0!==o&&(r.integrity=o),r.async=!0,r.onload=function(){i()},r.onerror=function(){i(new Error("Failed to load resource: "+n))},r.src=e,p.body.appendChild(r)};else{if("style"!=t)throw new Error("Unknown type: "+t);l="text/css",a=function(e){var r=p.createElement("link");r.type="text/css",r.rel="stylesheet",o&&!0!==o&&(r.integrity=o),r.onload=function(){i()},r.onerror=function(){i(new Error("Failed to load resource: "+n))},r.href=e,p.body.appendChild(r)}}var c=!1,u=function(e){c||(e?(c=!0,r(e)):r())};if(!0!==o&&(n=function(e){y.setAttribute("href",e);var r=y.href;return/^\/\//.test(r)&&(r=m+r),r}(n)),!s)if(!0===o)s="inline-"+function(e){if(0===e.length)return"00000000";for(var r=0,t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return function(e,r,t){for(void 0===r&&(r=8),void 0===t&&(t="0");e.length<r;)e=t+e;return e}(r.toString(16))}(n);else{var f=(s=n).lastIndexOf("/");-1<f&&(s=s.substring(f+1));var d=s.match(/^(([a-z][a-z0-9]*[\-_\.]?)+)\.(css|js)(\?.*)?$/i);s=d?d[1]:s.replace(/\.(css|js)(\?.*)?$/i,""),/\.min$/.test(s)&&(s=s.substring(0,s.length-4)),/\.slim$/.test(s)&&(s=s.substring(0,s.length-5)),/\.umd$/.test(s)&&(s=s.substring(0,s.length-4)),(d=s.match(/^(.+)\-\d+([\.\-]\d)*$/))&&(s=d[1])}var g=t+":"+s,h=j[g];if(h)return h.push(u);if(i=function(r){h.forEach(function(e){e(r)}),!0===o&&"script"===t?delete j[g]:j[g]={push:function(e){e(r)}}},h=j[g]=[u],!0!==o&&-1==n.indexOf("/"))return i(new Error(t[0].toUpperCase()+t.substring(1)+" `"+s+"` is required, but not included."));if(e.length){var v=e.length;e.forEach(function(e){R.loadResource(t,e,function(e){e?i(e):--v||(q[g]=n,a(!0===o?"data:"+l+";base64,"+C(n):n))})})}else a(!0===o?"data:"+l+";base64,"+C(n):n)}catch(e){console.warn(e),r(e)}}};R.resetError=function(){c.length&&o(c,l),i=!1},R.showError=function(e){return i=!1,r(e)},R.showProgress=function(e,t,n){if(g){if(a(g,"loader-progress-visible"),n?(Array.prototype.forEach.call(g,function(e){var r=e.querySelector(".loader-progress-message-container");r.querySelector("h5").innerHTML=t,r.querySelector("p").innerHTML=n}),a(g,"loader-progress-message-visible"),$=!0):$&&(o(g,"loader-progress-message-visible"),$=void 0),e){try{clearTimeout(N)}catch(e){}N=setTimeout(e,200)}}else e&&e();return document.body.style.overflow="hidden",g},R.resetProgress=function(){if(g){try{clearTimeout(N)}catch(e){}o(g,"loader-progress-visible"),$&&(o(g,"loader-progress-message-visible"),$=void 0)}document.body.style.overflow="auto"},Object.defineProperty(s,"NexusFrameworkLoader",{value:R})}catch(e){r(e)}}(window);
//# sourceMappingURL=loader.min.js.map