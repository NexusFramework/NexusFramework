!function(a){var v=window.document,y=v.createElement("a"),m=location.href.match(/^\w+:/)[0],n=function(e,r){for(var t,n=new RegExp("(^|\\s+)"+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"(\\s+|$)","g"),o=0;o<e.length;o++)(t=e[o]).className=t.className.replace(n,function(e,r){return/^\s.+\s$/.test(e)?" ":""})},s=function(e,r){for(var t,n=new RegExp("(^|\\s+)"+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"(\\s+|$)","g"),o=0;o<e.length;o++)t=e[o],n.test(t.className)||(t.className=(t.className?t.className+" ":"")+r)},i=!1,l="loader-error-visible",c=v.getElementsByClassName("loader-error-container"),u=v.getElementsByClassName("loader-error-message"),r=function(e){var r=""+(e.stack||e);if(console.warn(r),i)return c;if(i=!0,u.length){for(var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","/":"&#x2F;","=":"&#x3D;","    ":"&nbsp;&nbsp;","\n":"<br />"},n=r.replace(/([&<>"'`=\/\n]|    )/g,function(e){return t[e]}),o=0;o<u.length;o++)u[o].innerHTML=n;if(a.ga)try{a.ga("send","exception",{exDescription:r,exFatal:!0})}catch(e){console.warn(e)}c.length&&s(c,l)}return c};try{var f,d,o=v.getElementsByClassName("loader-progress-bar"),g=v.getElementsByClassName("loader-progress-container");if(o.length){var h=0,p=0;d=function(e){var r;++p>=h?(e?e():g&&n(g,"loader-progress-visible"),r=1):r=1-Math.pow(5,1-p/h)/5,r=100*r+"%";for(var t=0;t<o.length;t++)o[t].style&&(o[t].style.width=r)},f=function(e){void 0===e&&(e=1),h=e,p=0}}else if(g.length){var t=0,b=0;d=function(e){++b>=t&&(e?e():n(g,"loader-progress-visible"))},f=function(e){void 0===e&&(e=1),t=e,b=0}}else{var w=0,E=0;d=function(e){++E>=w&&e&&e()},f=function(e){void 0===e&&(e=1),w=e,E=0}}g&&s(g,"loader-progress-visible");var x,$,N,C=function(r){try{return btoa(r)}catch(e){for(var t=r.split(""),n=0,o=t.length;n<o;n++){var a=t[n];try{btoa(a)}catch(e){for(var s=a.charCodeAt(0).toString(16);s.length<4;)s="0"+s;t[n]="\\u"+s}}return btoa(t.join(""))}},k={},j={},q={load:function(e,r){if(x){var t=e[0],n=t.length;if(n!==x.length)return location.reload(!0);for(var o=0;o<n;o++)if(t[o]!==x[o])return location.reload(!0)}else x=e[0];var a=e[1];a.length?(f(a.length),a.forEach(function(e){q.loadResource(e.type,e.source,function(e){e?(console.log(e),q.showError(e)):d(r)},e.dependencies,e.inline||e.integrity,e.name)})):r?r():(f(),d(r))},requestedResources:function(){return Object.keys(j)},resourceSource:function(e){return j[e]},loadResource:function(t,n,r,e,o,a){void 0===e&&(e=[]);try{var s,i,l;if("script"==t)l="text/javascript",s=function(e){var r=v.createElement("script");r.type="text/javascript",o&&!0!==o&&(r.integrity=o),r.async=!0,r.onload=function(){i()},r.onerror=function(){i(new Error("Failed to load resource: "+n))},r.src=e,v.body.appendChild(r)};else{if("style"!=t)throw new Error("Unknown type: "+t);l="text/css",s=function(e){var r=v.createElement("link");r.type="text/css",r.rel="stylesheet",o&&!0!==o&&(r.integrity=o),r.onload=function(){i()},r.onerror=function(){i(new Error("Failed to load resource: "+n))},r.href=e,v.body.appendChild(r)}}var c=!1,u=function(e){c||(e?(c=!0,r(e)):r())};if(!0!==o&&(n=function(e){y.setAttribute("href",e);var r=y.href;return/^\/\//.test(r)&&(r=m+r),r}(n)),!a)if(!0===o)a="inline-"+function(e){if(0===e.length)return"00000000";for(var r=0,t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return function(e,r,t){for(void 0===r&&(r=8),void 0===t&&(t="0");e.length<r;)e=t+e;return e}(r.toString(16))}(n);else{var f=(a=n).lastIndexOf("/");-1<f&&(a=a.substring(f+1));var d=a.match(/^(([a-z][a-z0-9]*[\-_\.]?)+)\.(css|js)(\?.*)?$/i);a=d?d[1]:a.replace(/\.(css|js)(\?.*)?$/i,""),/\.min$/.test(a)&&(a=a.substring(0,a.length-4)),/\.slim$/.test(a)&&(a=a.substring(0,a.length-5)),/\.umd$/.test(a)&&(a=a.substring(0,a.length-4)),(d=a.match(/^(.+)\-\d+([\.\-]\d)*$/))&&(a=d[1])}var g=t+":"+a,h=k[g];if(h)return h.push(u);if(i=function(r){h.forEach(function(e){e(r)}),!0===o&&"script"===t?delete k[g]:k[g]={push:function(e){e(r)}}},h=k[g]=[u],!0!==o&&-1==n.indexOf("/"))return i(new Error(t[0].toUpperCase()+t.substring(1)+" `"+a+"` is required, but not included."));if(e.length){var p=e.length;e.forEach(function(e){q.loadResource(t,e,function(e){e?i(e):--p||(j[g]=n,s(!0===o?"data:"+l+";base64,"+C(n):n))})})}else s(!0===o?"data:"+l+";base64,"+C(n):n)}catch(e){console.warn(e),r(e)}}};q.resetError=function(){c.length&&n(c,l),i=!1},q.showError=function(e){return i=!1,r(e)},q.showProgress=function(e,r){if(g){if(s(g,"loader-progress-visible"),e?(Array.prototype.forEach.call(g,function(e){e.querySelector(".loader-progress-maintenance").style.display=""}),s(g,"loader-progress-working"),$=!0):$&&(Array.prototype.forEach.call(g,function(e){e.querySelector(".loader-progress-maintenance").style.display="none"}),n(g,"loader-progress-working"),$=void 0),r){try{clearTimeout(N)}catch(e){}N=setTimeout(r,200)}}else r&&r();return g},q.resetProgress=function(){if(g){try{clearTimeout(N)}catch(e){}n(g,"loader-progress-visible"),$&&(Array.prototype.forEach.call(g,function(e){e.querySelector(".loader-progress-maintenance").style.display="none"}),n(g,"loader-progress-working"),$=void 0)}},Object.defineProperty(a,"NexusFrameworkLoader",{value:q})}catch(e){r(e)}}(window);
//# sourceMappingURL=loader.min.js.map