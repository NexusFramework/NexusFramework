!function(w){var d=window.document,r=d.createElement("a"),resolveUrl=function(e){return r.setAttribute("href",e),r.href},n=function(){},rmClass=function(e,r){for(var s,a=new RegExp("(^|\\s+)"+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"(\\s+|$)","g"),t=0;t<e.length;t++)(s=e[t]).className=s.className.replace(a,function(e,r){return/^\s.+\s$/.test(e)?" ":""})},addClass=function(e,r){for(var s,a=new RegExp("(^|\\s+)"+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"(\\s+|$)","g"),t=0;t<e.length;t++)s=e[t],a.test(s.className)||(s.className=(s.className?s.className+" ":"")+r)},errorShowed=!1,showError=function(e){if(console.warn(e),!errorShowed){errorShowed=!0;var r="loader-error-visible",s=d.getElementsByClassName("loader-error-container"),a=d.getElementsByClassName("loader-error-message");if(a.length){for(var t=""+(e.stack||e),o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","/":"&#x2F;","=":"&#x3D;","    ":"&nbsp;&nbsp;","\n":"<br />"},n=t.replace(/([&<>"'`=\/\n]|    )/g,function(e){return o[e]}),l=0;l<a.length;l++)a[l].innerHTML=n;if(w.ga)try{w.ga("send","exception",{exDescription:t,exFatal:!0})}catch(e){console.warn(e)}s.length&&addClass(s,r)}}};try{var resetProgress,incrementProgress,progressBar=d.getElementsByClassName("loader-progress-bar"),progressBarContainer=d.getElementsByClassName("loader-progress-container");if(progressBar.length){var totalScripts_1=0,loadedScripts_1=0;incrementProgress=function(e){var r;++loadedScripts_1>=totalScripts_1?(e?e():progressBarContainer&&rmClass(progressBarContainer,"loader-progress-visible"),r=1):r=1-Math.pow(5,1-loadedScripts_1/totalScripts_1)/5,r=100*r+"%";for(var s=0;s<progressBar.length;s++)progressBar[s].style&&(progressBar[s].style.width=r)},resetProgress=function(e){void 0===e&&(e=1),totalScripts_1=e,loadedScripts_1=0}}else if(progressBarContainer.length){var totalScripts_2=0,loadedScripts_2=0;incrementProgress=function(e){++loadedScripts_2>=totalScripts_2&&(e?e():rmClass(progressBarContainer,"loader-progress-visible"))},resetProgress=function(e){void 0===e&&(e=1),totalScripts_2=e,loadedScripts_2=0}}else{var totalScripts_3=0,loadedScripts_3=0;incrementProgress=function(e){++loadedScripts_3>=totalScripts_3&&e&&e()},resetProgress=function(e){void 0===e&&(e=1),totalScripts_3=e,loadedScripts_3=0}}progressBarContainer&&addClass(progressBarContainer,"loader-progress-visible");var base64_1=function(e){try{return btoa(e)}catch(n){for(var r=e.split(""),s=0,a=r.length;s<a;s++){var t=r[s];try{btoa(t)}catch(e){for(var o=t.charCodeAt(0).toString(16);o.length<4;)o="0"+o;r[s]="\\u"+o}}return btoa(r.join(""))}},padLeft_1=function(e,r,s){for(void 0===r&&(r=8),void 0===s&&(s="0");e.length<r;)e=s+e;return e},stringHash_1=function(e){if(0===e.length)return"00000000";for(var r=0,s=0;s<e.length;s++)r=(r<<5)-r+e.charCodeAt(s)|0;return padLeft_1(r.toString(16))},loadCallbacks_1={},NexusFrameworkLoaderImpl_1={__load:function(e,r){e.length?(resetProgress(e.length),e.forEach(function(e){NexusFrameworkLoaderImpl_1.loadResource(e.type,e.source,function(e){e?showError(e):incrementProgress(r)},e.deps,e.inline||e.version,e.name)})):r?r():(resetProgress(),incrementProgress(r))},requestedResources:function(){return Object.keys(loadCallbacks_1)},loadResource:function(type,source,cb,deps,inlineOrVersion,name){void 0===deps&&(deps=[]);var processResource,callCallbacks;if("script"==type)processResource=function(data){try{var scriptel=d.createElement("script");scriptel.src="data:application/javascript;base64,"+base64_1(data),scriptel.onload=function(){callCallbacks()},scriptel.onerror=function(){callCallbacks(new Error("Failed to load "+source))},d.body.appendChild(scriptel)}catch(e){(function(){try{eval(data),callCallbacks()}catch(e){console.warn(e),callCallbacks(e)}}).call(w)}};else{if("style"!=type)throw new Error("Unknown type: "+type);processResource=function(e){var r=d.createElement("link");r.type="text/css",r.rel="stylesheet",r.href="data:text/css;base64,"+base64_1(e),r.onload=function(){callCallbacks()},r.onerror=function(){callCallbacks(new Error("Failed to load "+source))},d.head.appendChild(r)}}try{var errored=!1,onLoad=function(e){errored||(e?(errored=!0,cb(e)):cb())};if(!name)if(!0===inlineOrVersion)name="inline-"+stringHash_1(source);else{source=resolveUrl(source);var name=source,index=name.lastIndexOf("/");index>-1&&(name=name.substring(index+1));var match=name.match(/^(([a-z][a-z0-9]*[\-_\.]?)+)\.(css|js)(\?.*)?$/i);name=match?match[1]:name.replace(/\.(css|js)(\?.*)?$/i,""),/\.min$/.test(name)&&(name=name.substring(0,name.length-4))}var key_1=type+":"+name,callbacks=loadCallbacks_1[key_1];if(callbacks)return callbacks.push(onLoad);if(callCallbacks=function(e){callbacks.forEach(function(r){r(e)}),(loadCallbacks_1[key_1]=[]).push=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return r.forEach(function(r){r(e)}),0}},!name.indexOf("/"))return callCallbacks(new Error("`"+name+"` is required but was not included before this script."));var parseResource_1=function(e){var r=function(){processResource(e+="\n//# sourceURL="+source)};if(deps.length){var s=deps.length;deps.forEach(function(e){NexusFrameworkLoaderImpl_1.loadResource(type,e,function(e){e?callCallbacks(e):--s||r()})})}else r()};if(callbacks=loadCallbacks_1[key_1]=[onLoad],!0===inlineOrVersion)parseResource_1(source);else{var url=source;if(inlineOrVersion){var q=url.indexOf("?");url+=-1==q?"?":"&",url+="v="+inlineOrVersion}var request=new XMLHttpRequest;request.open("GET",url),request.onreadystatechange=function(){request.readyState===XMLHttpRequest.DONE&&(200===request.status?parseResource_1(request.responseText):callCallbacks(new Error("Server returned bad status: "+request.statusText+" ("+request.status+")")))};try{request.send()}catch(e){callCallbacks(e)}}}catch(e){console.warn(e),cb(e)}}};Object.defineProperty(w,"NexusFrameworkLoader",{value:NexusFrameworkLoaderImpl_1})}catch(e){showError(e)}}(window);
//# sourceMappingURL=loader.min.js.map